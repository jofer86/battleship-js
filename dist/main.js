!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(i=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[n].concat(a).concat([o]).join("\n")}var i,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var i=0;i<t.length;i++){var s=t[i];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(0)(!1)).i(n(3),""),e.push([t.i,"main{position:relative}.main-board{display:flex;height:100vh;justify-content:space-around;align-items:center}.board .row{display:flex}.board .col{display:flex;justify-content:center;align-items:center;border:1px solid black;margin:.5px;height:20px;width:20px;padding:10px;border-radius:4px;background-color:#fda77f;transition:.8s}.board .col:hover{transform:scale(1.05);cursor:pointer;background-color:#fa7f46}.board__player .col{background-color:#f0decb}.board__player .col:hover{background-color:#f0decb;transform:scale(1);cursor:auto}.taken{background-color:#1a3e59 !important}.hit{background-color:#f0134d !important;animation:hit 1s ease-in-out 0s}@keyframes hit{50%{transform:scale(3);opacity:.5}100%{transfor:scale(1);opacity:1}}.hit:hover{transform:none;cursor:auto;background-color:#ff6361}.miss{background-color:#3e64ff !important;animation:hit 1s ease-in-out 0s}@keyframes hit{50%{transform:scale(3);opacity:.5}100%{transfor:scale(1);opacity:1}}.miss:hover{transform:none;cursor:auto;background-color:#d1afae}.status{border:1px solid;width:40%;position:absolute;top:5%;left:30%;height:3rem;display:flex;justify-content:space-around}.status .pl-status{border:1px solid;width:7rem}\n",""])},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}",""])},function(t,e,n){"use strict";var r,o={},a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function l(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=o[r.id],i=0;if(a){for(a.refs++;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(b(r.parts[i],e))}else{for(var s=[];i<r.parts.length;i++)s.push(b(r.parts[i],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function f(t,e,n){var r=n.css,o=n.media,a=n.sourceMap;if(o&&t.setAttribute("media",o),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,m=0;function b(t,e){var n,r,o;if(e.singleton){var a=m++;n=h||(h=c(e)),r=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=c(e),r=f.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=s(t,e);return l(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var i=n[a],c=o[i.id];c&&(c.refs--,r.push(c))}t&&l(s(t,e),e);for(var u=0;u<r.length;u++){var d=r[u];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete o[d.id]}}}}},function(t,e,n){"use strict";n.r(e);n(1);var r=(()=>{document.querySelector(".status");const t=document.querySelector(".board__computer"),e=document.querySelector(".board__player");return{buildCompBoard:e=>{const n=e.board.map((t,e)=>{return`\n        <div class="row" > ${t.map((t,n)=>{let r,o="";switch(t.state){case"hit":r="X",o="hit";break;case"miss":r="||",o="miss";break;default:r=[e,n].join("")}return`\n        <div class="col bot ${o}" id="${[e,n].join("")}">${r}</div>\n        `}).join("")}</div>\n        `}).join("");t.innerHTML=n},buildPlayerBoard:t=>{const n=t.board.map((t,e)=>{return`\n        <div class= "row" > ${t.map((t,n)=>{let r;switch(t.state){case"taken":r="#";break;default:r=[e,n].join("")}return`\n        <div class= "col ${t.state}" id = "P${[e,n].join("")}" > ${r}</div>\n        `}).join("")}</div>\n        `}).join("");e.innerHTML=n},comBoard:t,changeCell:(t,e)=>{let n,r="";switch(e.state){case"hit":n="X",r="hit";break;case"miss":n="||",r="miss";break;default:n=t.innerHtml}t.classList.add(r),t.innerText=n}}})();var o=t=>{const e=["0123456789","0123456789"],n=new Array(10);e[0].split("").forEach((t,r)=>{n[r]=[],e[1].split("").forEach(e=>{n[r].push({pos:`${t}${e}`,state:"empty"})})});const r=n,o=[],a=(t,e,n)=>{const o=parseInt(e.pos[1]),a=parseInt(e.pos[0]);if("horizontal"===n){for(let e=o;e<=o+t.length-1;e++)if(!r[a][e]||"empty"!==r[a][e].state)return!1}else for(let e=a;e<=a+t.length-1;e++)if(!r[e]||"empty"!==r[e][o].state)return!1;return!0};return{validPosition:a,board:r,placeShip:()=>{t.map(t=>{let[e,n]=[0,0],o="";const i=["horizontal","vertical"];let s=0;do{e=Math.round(9*Math.random()),n=Math.round(9*Math.random()),o=r[n][e],s=Math.round(1*Math.random())}while(!a(t,o,i[s]));if("horizontal"===i[s])for(let o=e;o<=e+t.length-1;o++)r[n][o].state="taken",t.position.push(r[n][o].pos);if("vertical"===i[s])for(let o=n;o<=n+t.length-1;o++)r[o][e].state="taken",t.position.push(r[o][e].pos);return t})},recieveAttack:(e,n)=>{const a=r[e][n].pos,i=t.filter(t=>t.position.includes(a))[0];i?(i.hit(a),r[e][n].state="hit",i.isSunk()&&o.push(i.type())):r[e][n].state="miss"},gameOver:()=>o.length===t.length}};var a=t=>({length:t,type:()=>{switch(t){case 1:return"Submarine";case 2:return"Destroyer";case 3:return"Cruiser";case 4:return"Battelship";default:return!1}},position:[],healthPoints:t,hit(t){this.position.includes(t)&&(this.healthPoints-=this.isSunk()?0:1)},isSunk(){return 0===this.healthPoints}});var i=(t,e)=>{const n=e,r=t;let o=[];return{getName:()=>r,getType:()=>n,getMoves:()=>o,initMoves:t=>{o=[]},play:t=>{if("bot"===n){let t,e;do{t=Math.round(9*Math.random()),e=Math.round(9*Math.random())}while(o.includes([e,t].join("")));return o.push([e,t].join("")),[e,t]}const[e,r]=t.pos.split("").map(t=>parseInt(t));return!o.includes([e,r].join(""))&&(o.push([e,r].join("")),[e,r])}}};let s=null,l=null;const c=i("Computer","bot"),u=i("Clarence","Human");let d;const p=()=>{c.initMoves(),u.initMoves(),(s=o([a(1)])).placeShip(),r.buildCompBoard(s),(l=o([a(1)])).placeShip(),r.buildPlayerBoard(l),d=!0};p();const f=()=>{if(!d){const t=c.play(),[e,n]=t;t.unshift("P");const o=document.getElementById(t.join(""));l.recieveAttack(e,n),r.changeCell(o,l.board[e][n]),setTimeout(()=>{d=!d},1e3),l.gameOver()&&(alert("Computer Won the Game"),p())}};window.onclick=t=>{let e=0,n=1;if(d){if(!t.target.classList.value.includes("bot"))return;if(e=parseInt(t.target.id.split("")[0]),n=parseInt(t.target.id.split("")[1]),u.play(s.board[e][n])){if(s.recieveAttack(e,n),r.changeCell(t.target,s.board[e][n]),d=!d,s.gameOver())return alert("player won the game"),void p();setTimeout(f,2e3)}else alert("wrong move")}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Nzcy9tYWluLnNjc3M/MjhlNCIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Nzcy9tYWluLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jc3MvcmVzZXQuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRE9NY29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUJvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGlwcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJjb25jYXQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiaWQiLCJfaSIsInB1c2giLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwibGlzdFRvU3R5bGVzIiwic3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInBhcnRzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsImoiLCJyZWZzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwib2JqIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJfZG9tU3R5bGUiLCJjb21Cb2FyZCIsInBsYXllckJvYXJkIiwiYnVpbGRDb21wQm9hcmQiLCJnYW1lIiwiaHRtbCIsImJvYXJkIiwibGluZSIsImNlbGwiLCJtYXJrIiwic3RhdGUiLCJpbm5lckhUTUwiLCJidWlsZFBsYXllckJvYXJkIiwiaW5kIiwiamluZCIsImNoYW5nZUNlbGwiLCJkaXYiLCJpbm5lckh0bWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lclRleHQiLCJzaGlwcyIsImdyaWRUIiwiZ3JpZCIsIkFycmF5Iiwic3BsaXQiLCJzdUl0ZW0iLCJwb3MiLCJzdW5rZW4iLCJ2YWxpZFBvc2l0aW9uIiwic2hpcCIsImNvb3JkIiwiZmFjaW5nIiwiY29yZEgiLCJwYXJzZUludCIsImNvcmRWIiwicGxhY2VTaGlwIiwicmFuZG9tSCIsInJhbmRvbVYiLCJkaXIiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwb3NpdGlvbiIsInJlY2lldmVBdHRhY2siLCJjb29yZDEiLCJjb29yZDIiLCJpbmNsdWRlcyIsImhpdCIsImlzU3VuayIsInR5cGUiLCJnYW1lT3ZlciIsImhlYWx0aFBvaW50cyIsIm5hbSIsInR5cCIsIm1vdmVzIiwiZ2V0TmFtZSIsImdldFR5cGUiLCJnZXRNb3ZlcyIsImluaXRNb3ZlcyIsImFyciIsInBsYXkiLCJjb3JkMSIsImNvcmQyIiwiY29tcEdhbWUiLCJwbGF5ZXJHYW1lIiwiY29tcFBsYXllciIsInR1cm4iLCJnYW1lU3RhcnQiLCJjb21wTW92ZSIsImNyZDEiLCJjcmQyIiwidW5zaGlmdCIsImdldEVsZW1lbnRCeUlkIiwic2V0VGltZW91dCIsImFsZXJ0Iiwib25jbGljayJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdG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QixZQUNULEVBQWNqQyxlQUFlNkQsSUFFN0JDLEVBQWEsRUFBVSxDQUFDLEVBQUssTUFDbEI3QixZQUNYLEVBQWN4QixpQkFBaUJxRCxHQUMvQkUsR0FBTyxHQUdUQyxJQUdBLE1BQU1DLEVBQVcsS0FDZixJQUFLRixFQUFNLENBRVQsTUFBTVAsRUFBTU0sRUFBV0wsUUFDaEJTLEVBQU1DLEdBQVFYLEVBQ3JCQSxFQUFJWSxRQUFRLEtBQ1osTUFBTXhELEVBQU03RSxTQUFTc0ksZUFBZWIsRUFBSXhJLEtBQUssS0FDN0M2SSxFQUFXckIsY0FBYzBCLEVBQU1DLEdBQy9CLEVBQWN4RCxXQUFXQyxFQUFLaUQsRUFBVzNELE1BQU1nRSxHQUFNQyxJQUNyREcsV0FBVyxLQUFRUCxHQUFRQSxHQUFTLEtBQ2hDRixFQUFXZCxhQUNid0IsTUFBTSx5QkFDTlAsT0FLTmxJLE9BQU8wSSxRQUFXL0gsSUFDaEIsSUFBSWlILEVBQVEsRUFDUkMsRUFBUSxFQUNaLEdBQUlJLEVBQU0sQ0FDUixJQUFJdEgsRUFBRU4sT0FBTzJFLFVBQVVuSSxNQUFNZ0ssU0FBUyxPQUc3QixPQUNULEdBSEVlLEVBQVE1QixTQUFTckYsRUFBRU4sT0FBT2QsR0FBR2dHLE1BQU0sSUFBSSxJQUN2Q3NDLEVBQVE3QixTQUFTckYsRUFBRU4sT0FBT2QsR0FBR2dHLE1BQU0sSUFBSSxJQUVyQyxFQUFPb0MsS0FBS0csRUFBUzFELE1BQU13RCxHQUFPQyxJQUFTLENBSzdDLEdBSkFDLEVBQVNwQixjQUFja0IsRUFBT0MsR0FDOUIsRUFBY2hELFdBQVdsRSxFQUFFTixPQUFReUgsRUFBUzFELE1BQU13RCxHQUFPQyxJQUV6REksR0FBUUEsRUFDSkgsRUFBU2IsV0FHWCxPQUZBd0IsTUFBTSw0QkFDTlAsSUFHRk0sV0FBV0wsRUFBVSxVQUVyQk0sTUFBTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCJ7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbX2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIihcIi5jb25jYXQoaXRlbVsyXSwgXCIpIGFuZCAoXCIpLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIilcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCkuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uc2Nzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9yZXNldC5jc3NcIiksIFwiXCIpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJtYWlue3Bvc2l0aW9uOnJlbGF0aXZlfS5tYWluLWJvYXJke2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwdmg7anVzdGlmeS1jb250ZW50OnNwYWNlLWFyb3VuZDthbGlnbi1pdGVtczpjZW50ZXJ9LmJvYXJkIC5yb3d7ZGlzcGxheTpmbGV4fS5ib2FyZCAuY29se2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXI6MXB4IHNvbGlkIGJsYWNrO21hcmdpbjouNXB4O2hlaWdodDoyMHB4O3dpZHRoOjIwcHg7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NHB4O2JhY2tncm91bmQtY29sb3I6I2ZkYTc3Zjt0cmFuc2l0aW9uOi44c30uYm9hcmQgLmNvbDpob3Zlcnt0cmFuc2Zvcm06c2NhbGUoMS4wNSk7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjojZmE3ZjQ2fS5ib2FyZF9fcGxheWVyIC5jb2x7YmFja2dyb3VuZC1jb2xvcjojZjBkZWNifS5ib2FyZF9fcGxheWVyIC5jb2w6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjBkZWNiO3RyYW5zZm9ybTpzY2FsZSgxKTtjdXJzb3I6YXV0b30udGFrZW57YmFja2dyb3VuZC1jb2xvcjojMWEzZTU5ICFpbXBvcnRhbnR9LmhpdHtiYWNrZ3JvdW5kLWNvbG9yOiNmMDEzNGQgIWltcG9ydGFudDthbmltYXRpb246aGl0IDFzIGVhc2UtaW4tb3V0IDBzfUBrZXlmcmFtZXMgaGl0ezUwJXt0cmFuc2Zvcm06c2NhbGUoMyk7b3BhY2l0eTouNX0xMDAle3RyYW5zZm9yOnNjYWxlKDEpO29wYWNpdHk6MX19LmhpdDpob3Zlcnt0cmFuc2Zvcm06bm9uZTtjdXJzb3I6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiNmZjYzNjF9Lm1pc3N7YmFja2dyb3VuZC1jb2xvcjojM2U2NGZmICFpbXBvcnRhbnQ7YW5pbWF0aW9uOmhpdCAxcyBlYXNlLWluLW91dCAwc31Aa2V5ZnJhbWVzIGhpdHs1MCV7dHJhbnNmb3JtOnNjYWxlKDMpO29wYWNpdHk6LjV9MTAwJXt0cmFuc2ZvcjpzY2FsZSgxKTtvcGFjaXR5OjF9fS5taXNzOmhvdmVye3RyYW5zZm9ybTpub25lO2N1cnNvcjphdXRvO2JhY2tncm91bmQtY29sb3I6I2QxYWZhZX0uc3RhdHVze2JvcmRlcjoxcHggc29saWQ7d2lkdGg6NDAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1JTtsZWZ0OjMwJTtoZWlnaHQ6M3JlbTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWFyb3VuZH0uc3RhdHVzIC5wbC1zdGF0dXN7Ym9yZGVyOjFweCBzb2xpZDt3aWR0aDo3cmVtfVxcblwiLCBcIlwiXSk7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIGh0dHA6Ly9tZXllcndlYi5jb20vZXJpYy90b29scy9jc3MvcmVzZXQvIFxcbiAgIHYyLjAgfCAyMDExMDEyNlxcbiAgIExpY2Vuc2U6IG5vbmUgKHB1YmxpYyBkb21haW4pXFxuKi9cXG5cXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxcbmEsIGFiYnIsIGFjcm9ueW0sIGFkZHJlc3MsIGJpZywgY2l0ZSwgY29kZSxcXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcXG5iLCB1LCBpLCBjZW50ZXIsXFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcXG50YWJsZSwgY2FwdGlvbiwgdGJvZHksIHRmb290LCB0aGVhZCwgdHIsIHRoLCB0ZCxcXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwgXFxuZmlndXJlLCBmaWdjYXB0aW9uLCBmb290ZXIsIGhlYWRlciwgaGdyb3VwLCBcXG5tZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSxcXG50aW1lLCBtYXJrLCBhdWRpbywgdmlkZW8ge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGJvcmRlcjogMDtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0Zm9udDogaW5oZXJpdDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLCBhc2lkZSwgZGV0YWlscywgZmlnY2FwdGlvbiwgZmlndXJlLCBcXG5mb290ZXIsIGhlYWRlciwgaGdyb3VwLCBtZW51LCBuYXYsIHNlY3Rpb24ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5ib2R5IHtcXG5cXHRsaW5lLWhlaWdodDogMTtcXG59XFxub2wsIHVsIHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlLCBxIHtcXG5cXHRxdW90ZXM6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGU6YmVmb3JlLCBibG9ja3F1b3RlOmFmdGVyLFxcbnE6YmVmb3JlLCBxOmFmdGVyIHtcXG5cXHRjb250ZW50OiAnJztcXG5cXHRjb250ZW50OiBub25lO1xcbn1cXG50YWJsZSB7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG5cXHRib3JkZXItc3BhY2luZzogMDtcXG59XCIsIFwiXCJdKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZXMgPSBbXTtcbiAgdmFyIG5ld1N0eWxlcyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY3NzID0gaXRlbVsxXTtcbiAgICB2YXIgbWVkaWEgPSBpdGVtWzJdO1xuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuICAgIHZhciBwYXJ0ID0ge1xuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH07XG5cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcGFydHM6IFtwYXJ0XVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcbiAgICB2YXIgaiA9IDA7XG5cbiAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgIGRvbVN0eWxlLnJlZnMrKztcblxuICAgICAgZm9yICg7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHJlZnM6IDEsXG4gICAgICAgIHBhcnRzOiBwYXJ0c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhvcHRpb25zLmF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnMuYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmF0dHJpYnV0ZXMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuYXR0cmlidXRlcyA6IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG4gIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIHZhciBtYXlSZW1vdmUgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG4gICAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgICAgZG9tU3R5bGUucmVmcy0tO1xuICAgICAgICBtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0xpc3QpIHtcbiAgICAgIHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICBhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYXlSZW1vdmUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2RvbVN0eWxlID0gbWF5UmVtb3ZlW19pXTtcblxuICAgICAgaWYgKF9kb21TdHlsZS5yZWZzID09PSAwKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX2RvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgX2RvbVN0eWxlLnBhcnRzW2pdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bX2RvbVN0eWxlLmlkXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59OyIsImNvbnN0IGNvbXB1dGVyQm9hcmQgPSAoKCkgPT4ge1xuICBjb25zdCBzdGF0dXNCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhdHVzJyk7XG4gIGNvbnN0IGNvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvYXJkX19jb21wdXRlcicpO1xuICBjb25zdCBwbGF5ZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2FyZF9fcGxheWVyJyk7XG4gIGNvbnN0IGJ1aWxkQ29tcEJvYXJkID0gKGdhbWUpID0+IHtcbiAgICBjb25zdCBodG1sID0gZ2FtZS5ib2FyZC5tYXAoKGxpbmUsIGkpID0+IHtcbiAgICAgIGNvbnN0IHJvdyA9IGxpbmUubWFwKChjZWxsLCBqKSA9PiB7XG4gICAgICAgIGxldCBtYXJrO1xuICAgICAgICBsZXQgc3RhdGUgPSAnJztcbiAgICAgICAgc3dpdGNoIChjZWxsLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAnaGl0JzpcbiAgICAgICAgICAgIG1hcmsgPSAnWCc7XG4gICAgICAgICAgICBzdGF0ZSA9ICdoaXQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbWlzcyc6XG4gICAgICAgICAgICBtYXJrID0gJ3x8JztcbiAgICAgICAgICAgIHN0YXRlID0gJ21pc3MnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1hcmsgPSBbaSwgal0uam9pbignJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIGJvdCAke3N0YXRlfVwiIGlkPVwiJHtbaSwgal0uam9pbignJyl9XCI+JHttYXJrfTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfSkuam9pbignJyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiA+ICR7cm93fTwvZGl2PlxuICAgICAgICBgXG4gICAgICApO1xuICAgIH0pLmpvaW4oJycpO1xuICAgIGNvbUJvYXJkLmlubmVySFRNTCA9IGh0bWw7XG4gIH07XG5cbiAgY29uc3QgYnVpbGRQbGF5ZXJCb2FyZCA9IChnYW1lKSA9PiB7XG4gICAgY29uc3QgaHRtbCA9IGdhbWUuYm9hcmQubWFwKChsaW5lLCBpbmQpID0+IHtcbiAgICAgIGNvbnN0IHJvdyA9IGxpbmUubWFwKChjZWxsLCBqaW5kKSA9PiB7XG4gICAgICAgIGxldCBzdGF0ZTtcbiAgICAgICAgc3dpdGNoIChjZWxsLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAndGFrZW4nOlxuICAgICAgICAgICAgc3RhdGUgPSAnIyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc3RhdGUgPSBbaW5kLCBqaW5kXS5qb2luKCcnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgY2xhc3M9IFwiY29sICR7Y2VsbC5zdGF0ZX1cIiBpZCA9IFwiUCR7W2luZCwgamluZF0uam9pbignJyl9XCIgPiAke3N0YXRlfTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfSkuam9pbignJyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBgXG4gICAgICAgIDxkaXYgY2xhc3M9IFwicm93XCIgPiAke3Jvd308L2Rpdj5cbiAgICAgICAgYFxuICAgICAgKTtcbiAgICB9KS5qb2luKCcnKTtcbiAgICBwbGF5ZXJCb2FyZC5pbm5lckhUTUwgPSBodG1sO1xuICB9O1xuXG4gIGNvbnN0IGNoYW5nZUNlbGwgPSAoZGl2LCBjZWxsKSA9PiB7XG4gICAgbGV0IHN0YXRlID0gJyc7XG4gICAgbGV0IG1hcms7XG4gICAgc3dpdGNoIChjZWxsLnN0YXRlKSB7XG4gICAgICBjYXNlICdoaXQnOlxuICAgICAgICBtYXJrID0gJ1gnO1xuICAgICAgICBzdGF0ZSA9ICdoaXQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pc3MnOlxuICAgICAgICBtYXJrID0gJ3x8JztcbiAgICAgICAgc3RhdGUgPSAnbWlzcyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWFyayA9IGRpdi5pbm5lckh0bWw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkaXYuY2xhc3NMaXN0LmFkZChzdGF0ZSk7XG4gICAgZGl2LmlubmVyVGV4dCA9IG1hcms7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQmFubmVyID0gKCkgPT4ge1xuXG4gIH1cblxuXG4gIHJldHVybiB7XG4gICAgYnVpbGRDb21wQm9hcmQsIGJ1aWxkUGxheWVyQm9hcmQsIGNvbUJvYXJkLCBjaGFuZ2VDZWxsLFxuICB9O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IGNvbXB1dGVyQm9hcmQ7XG4iLCJjb25zdCBHYW1lQm9hcmQgPSAoc2hpcHMpID0+IHtcbiAgY29uc3QgZ3JpZFQgPSBbJzAxMjM0NTY3ODknLCAnMDEyMzQ1Njc4OSddO1xuICBjb25zdCBncmlkID0gbmV3IEFycmF5KDEwKTtcbiAgZ3JpZFRbMF0uc3BsaXQoJycpLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICBncmlkW2ldID0gW107XG4gICAgZ3JpZFRbMV0uc3BsaXQoJycpLmZvckVhY2goKHN1SXRlbSkgPT4ge1xuICAgICAgZ3JpZFtpXS5wdXNoKHtcbiAgICAgICAgcG9zOiBgJHtpdGVtfSR7c3VJdGVtfWAsXG4gICAgICAgIHN0YXRlOiAnZW1wdHknLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IGJvYXJkID0gZ3JpZDtcbiAgY29uc3Qgc3Vua2VuID0gW107XG4gIGNvbnN0IHZhbGlkUG9zaXRpb24gPSAoc2hpcCwgY29vcmQsIGZhY2luZykgPT4ge1xuICAgIGNvbnN0IGNvcmRIID0gcGFyc2VJbnQoY29vcmQucG9zWzFdKTtcbiAgICBjb25zdCBjb3JkViA9IHBhcnNlSW50KGNvb3JkLnBvc1swXSk7XG4gICAgaWYgKGZhY2luZyA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBmb3IgKGxldCBqID0gY29yZEg7IGogPD0gY29yZEggKyBzaGlwLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICBpZiAoIWJvYXJkW2NvcmRWXVtqXSB8fCBib2FyZFtjb3JkVl1bal0uc3RhdGUgIT09ICdlbXB0eScpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IGNvcmRWOyBpIDw9IGNvcmRWICsgc2hpcC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKCFib2FyZFtpXSB8fCBib2FyZFtpXVtjb3JkSF0uc3RhdGUgIT09ICdlbXB0eScpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB2YWxpZFBvc2l0aW9uLFxuICAgIGJvYXJkLFxuICAgIHBsYWNlU2hpcDogKCkgPT4ge1xuICAgICAgc2hpcHMubWFwKChzaGlwKSA9PiB7XG4gICAgICAgIGxldCBbcmFuZG9tSCwgcmFuZG9tVl0gPSBbMCwgMF07XG4gICAgICAgIGxldCBjb29yZCA9ICcnO1xuICAgICAgICBjb25zdCBmYWNpbmcgPSBbJ2hvcml6b250YWwnLCAndmVydGljYWwnXTtcbiAgICAgICAgbGV0IGRpciA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICByYW5kb21IID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XG4gICAgICAgICAgcmFuZG9tViA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xuICAgICAgICAgIGNvb3JkID0gYm9hcmRbcmFuZG9tVl1bcmFuZG9tSF07XG4gICAgICAgICAgZGlyID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMSk7XG4gICAgICAgIH0gd2hpbGUgKCF2YWxpZFBvc2l0aW9uKHNoaXAsIGNvb3JkLCBmYWNpbmdbZGlyXSkpO1xuICAgICAgICBpZiAoZmFjaW5nW2Rpcl0gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgIGZvciAobGV0IGkgPSByYW5kb21IOyBpIDw9IHJhbmRvbUggKyBzaGlwLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgYm9hcmRbcmFuZG9tVl1baV0uc3RhdGUgPSAndGFrZW4nO1xuICAgICAgICAgICAgc2hpcC5wb3NpdGlvbi5wdXNoKGJvYXJkW3JhbmRvbVZdW2ldLnBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmYWNpbmdbZGlyXSA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgIGZvciAobGV0IGkgPSByYW5kb21WOyBpIDw9IHJhbmRvbVYgKyBzaGlwLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgYm9hcmRbaV1bcmFuZG9tSF0uc3RhdGUgPSAndGFrZW4nO1xuICAgICAgICAgICAgc2hpcC5wb3NpdGlvbi5wdXNoKGJvYXJkW2ldW3JhbmRvbUhdLnBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGlwO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICByZWNpZXZlQXR0YWNrOiAoY29vcmQxLCBjb29yZDIpID0+IHtcbiAgICAgIGNvbnN0IGJvbWIgPSBib2FyZFtjb29yZDFdW2Nvb3JkMl07XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGJvbWIucG9zO1xuICAgICAgY29uc3Qgc2hpcCA9IHNoaXBzLmZpbHRlcigoZSkgPT4gZS5wb3NpdGlvbi5pbmNsdWRlcyhwb3NpdGlvbikpWzBdO1xuICAgICAgaWYgKHNoaXApIHtcbiAgICAgICAgc2hpcC5oaXQocG9zaXRpb24pO1xuICAgICAgICBib2FyZFtjb29yZDFdW2Nvb3JkMl0uc3RhdGUgPSAnaGl0JztcbiAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICBzdW5rZW4ucHVzaChzaGlwLnR5cGUoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvYXJkW2Nvb3JkMV1bY29vcmQyXS5zdGF0ZSA9ICdtaXNzJztcbiAgICAgIH1cbiAgICB9LFxuICAgIGdhbWVPdmVyOiAoKSA9PiB7XG4gICAgICBpZiAoc3Vua2VuLmxlbmd0aCA9PT0gc2hpcHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQm9hcmQ7XG4iLCJjb25zdCBTaGlwID0gKChsZW5ndGgpID0+ICh7XG4gIGxlbmd0aCxcbiAgdHlwZTogKCkgPT4ge1xuICAgIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiAnU3VibWFyaW5lJztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuICdEZXN0cm95ZXInO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gJ0NydWlzZXInO1xuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gJ0JhdHRlbHNoaXAnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgcG9zaXRpb246IFtdLFxuICBoZWFsdGhQb2ludHM6IGxlbmd0aCxcbiAgaGl0KGNvb3JkKSB7XG4gICAgaWYgKHRoaXMucG9zaXRpb24uaW5jbHVkZXMoY29vcmQpKSB7XG4gICAgICB0aGlzLmhlYWx0aFBvaW50cyAtPSB0aGlzLmlzU3VuaygpID8gMCA6IDE7XG4gICAgfVxuICB9LFxuICBpc1N1bmsoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhbHRoUG9pbnRzID09PSAwO1xuICB9LFxufSkpO1xuZXhwb3J0IGRlZmF1bHQgU2hpcDtcbiIsImNvbnN0IFBsYXllciA9IChuYW0sIHR5cCkgPT4ge1xuICBjb25zdCB0eXBlID0gdHlwO1xuICBjb25zdCBuYW1lID0gbmFtO1xuICBsZXQgbW92ZXMgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBnZXROYW1lOiAoKSA9PiBuYW1lLFxuICAgIGdldFR5cGU6ICgpID0+IHR5cGUsXG4gICAgZ2V0TW92ZXM6ICgpID0+IG1vdmVzLFxuICAgIGluaXRNb3ZlczogKGFycikgPT4geyBtb3ZlcyA9IFtdIH0sXG4gICAgcGxheTogKGNlbGwpID0+IHtcbiAgICAgIGlmICh0eXBlID09PSAnYm90Jykge1xuICAgICAgICBsZXQgcmFuZG9tSDtcbiAgICAgICAgbGV0IHJhbmRvbVY7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICByYW5kb21IID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XG4gICAgICAgICAgcmFuZG9tViA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xuICAgICAgICB9IHdoaWxlIChtb3Zlcy5pbmNsdWRlcyhbcmFuZG9tViwgcmFuZG9tSF0uam9pbignJykpKTtcbiAgICAgICAgbW92ZXMucHVzaChbcmFuZG9tViwgcmFuZG9tSF0uam9pbignJykpO1xuICAgICAgICByZXR1cm4gW3JhbmRvbVYsIHJhbmRvbUhdO1xuICAgICAgfVxuICAgICAgY29uc3QgW2NvcmQxLCBjb3JkMl0gPSBjZWxsLnBvcy5zcGxpdCgnJykubWFwKChlKSA9PiBwYXJzZUludChlKSk7XG4gICAgICBpZiAoIW1vdmVzLmluY2x1ZGVzKFtjb3JkMSwgY29yZDJdLmpvaW4oJycpKSkge1xuICAgICAgICBtb3Zlcy5wdXNoKFtjb3JkMSwgY29yZDJdLmpvaW4oJycpKTtcbiAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgcmV0dXJuIFtjb3JkMSwgY29yZDJdO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iLCJpbXBvcnQgJy4vYXNzZXRzL2Nzcy9tYWluLnNjc3MnO1xuaW1wb3J0IGNvbXB1dGVyQm9hcmQgZnJvbSAnLi9ET01jb250ZW50JztcbmltcG9ydCBHYW1lQm9hcmQgZnJvbSAnLi9nYW1lQm9hcmQnO1xuaW1wb3J0IFNoaXAgZnJvbSAnLi9zaGlwcyc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJztcblxubGV0IGNvbXBHYW1lID0gbnVsbDtcbmxldCBwbGF5ZXJHYW1lID0gbnVsbDtcbmNvbnN0IGNvbXBQbGF5ZXIgPSBQbGF5ZXIoJ0NvbXB1dGVyJywgJ2JvdCcpO1xuY29uc3QgcGxheWVyID0gUGxheWVyKCdDbGFyZW5jZScsICdIdW1hbicpO1xubGV0IHR1cm47XG4vLyBHYW1lIGxvb3BcblxuXG5jb25zdCBnYW1lU3RhcnQgPSAoKSA9PiB7XG4gIGNvbXBQbGF5ZXIuaW5pdE1vdmVzKCk7XG4gIHBsYXllci5pbml0TW92ZXMoKTtcbiAgY29tcEdhbWUgPSBHYW1lQm9hcmQoW1NoaXAoMSldKTtcbiAgY29tcEdhbWUucGxhY2VTaGlwKCk7XG4gIGNvbXB1dGVyQm9hcmQuYnVpbGRDb21wQm9hcmQoY29tcEdhbWUpO1xuXG4gIHBsYXllckdhbWUgPSBHYW1lQm9hcmQoW1NoaXAoMSldKTtcbiAgcGxheWVyR2FtZS5wbGFjZVNoaXAoKTtcbiAgY29tcHV0ZXJCb2FyZC5idWlsZFBsYXllckJvYXJkKHBsYXllckdhbWUpO1xuICB0dXJuID0gdHJ1ZTtcbn07XG5cbmdhbWVTdGFydCgpO1xuXG4vLyBDb21wdXRlciBtb3ZlXG5jb25zdCBjb21wTW92ZSA9ICgpID0+IHtcbiAgaWYgKCF0dXJuKSB7XG4gICAgLy8gY29uc29sZS5sb2cocGxheWVyR2FtZS5ib2FyZCk7XG4gICAgY29uc3QgYXJyID0gY29tcFBsYXllci5wbGF5KCk7XG4gICAgY29uc3QgW2NyZDEsIGNyZDJdID0gYXJyO1xuICAgIGFyci51bnNoaWZ0KCdQJyk7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyLmpvaW4oJycpKTtcbiAgICBwbGF5ZXJHYW1lLnJlY2lldmVBdHRhY2soY3JkMSwgY3JkMik7XG4gICAgY29tcHV0ZXJCb2FyZC5jaGFuZ2VDZWxsKGRpdiwgcGxheWVyR2FtZS5ib2FyZFtjcmQxXVtjcmQyXSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7IHR1cm4gPSAhdHVybjsgfSwgMTAwMCk7XG4gICAgaWYgKHBsYXllckdhbWUuZ2FtZU92ZXIoKSkge1xuICAgICAgYWxlcnQoJ0NvbXB1dGVyIFdvbiB0aGUgR2FtZScpO1xuICAgICAgZ2FtZVN0YXJ0KCk7XG4gICAgfVxuICB9XG59O1xuXG53aW5kb3cub25jbGljayA9IChlKSA9PiB7XG4gIGxldCBjb3JkMSA9IDA7XG4gIGxldCBjb3JkMiA9IDE7XG4gIGlmICh0dXJuKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5pbmNsdWRlcygnYm90JykpIHtcbiAgICAgIGNvcmQxID0gcGFyc2VJbnQoZS50YXJnZXQuaWQuc3BsaXQoJycpWzBdKTtcbiAgICAgIGNvcmQyID0gcGFyc2VJbnQoZS50YXJnZXQuaWQuc3BsaXQoJycpWzFdKTtcbiAgICB9IGVsc2UgeyByZXR1cm47IH1cbiAgICBpZiAocGxheWVyLnBsYXkoY29tcEdhbWUuYm9hcmRbY29yZDFdW2NvcmQyXSkpIHtcbiAgICAgIGNvbXBHYW1lLnJlY2lldmVBdHRhY2soY29yZDEsIGNvcmQyKTtcbiAgICAgIGNvbXB1dGVyQm9hcmQuY2hhbmdlQ2VsbChlLnRhcmdldCwgY29tcEdhbWUuYm9hcmRbY29yZDFdW2NvcmQyXSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhjb21wR2FtZS5ib2FyZCk7XG4gICAgICB0dXJuID0gIXR1cm47XG4gICAgICBpZiAoY29tcEdhbWUuZ2FtZU92ZXIoKSkge1xuICAgICAgICBhbGVydCgncGxheWVyIHdvbiB0aGUgZ2FtZScpO1xuICAgICAgICBnYW1lU3RhcnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dChjb21wTW92ZSwgMjAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KCd3cm9uZyBtb3ZlJyk7XG4gICAgfVxuICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==